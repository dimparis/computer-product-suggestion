@model IEnumerable<CPS_Solution.EntityFramework.Account>
@using CPS_Solution.Controllers;
@using CPS_Solution.EntityFramework;
@using CPS_Solution.Areas.Admin.Models;
@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
    List<Hardware> listHardware = ViewBag.listHardware;
    List<Codetype> listCodetype = ViewBag.listCodetype;
}
@section headScript
{
    <!-- iOS webapp icons -->
    <link rel="apple-touch-icon" href="touch-icon-iphone.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="touch-icon-ipad.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="touch-icon-retina.png" />

    <!-- CSS Reset -->
    <link rel="stylesheet" type="text/css" href="~/Areas/Admin/Dandelion/css/reset.css" media="screen" />
    <!--  Fluid Grid System -->
    <link rel="stylesheet" type="text/css" href="~/Areas/Admin/Dandelion/css/fluid.css" media="screen" />
    <!-- Theme Stylesheet -->
    <link rel="stylesheet" type="text/css" href="~/Areas/Admin/Dandelion/css/dandelion.theme.css" media="screen" />
    <!--  Main Stylesheet -->
    <link rel="stylesheet" type="text/css" href="~/Areas/Admin/Dandelion/css/dandelion.css" media="screen" />
    <!-- Demo Stylesheet -->
    <link rel="stylesheet" type="text/css" href="~/Areas/Admin/Dandelion/css/demo.css" media="screen" />
    <!-- jQuery JavaScript File -->
    <script type="text/javascript" src="~/Areas/Admin/Dandelion/js/jquery-1.7.2.min.js"></script>
    <!-- jQuery-UI JavaScript Files -->
    <script type="text/javascript" src="~/Areas/Admin/Dandelion/jui/js/jquery-ui-1.8.20.min.js"></script>
    <script type="text/javascript" src="~/Areas/Admin/Dandelion/jui/js/jquery.ui.timepicker.min.js"></script>
    <script type="text/javascript" src="~/Areas/Admin/Dandelion/jui/js/jquery.ui.touch-punch.min.js"></script>
    <link rel="stylesheet" type="text/css" href="~/Areas/Admin/Dandelion/jui/css/jquery.ui.all.css" media="screen" />
    <!-- Plugin Files -->
    <!-- FileInput Plugin -->
    <script type="text/javascript" src="~/Areas/Admin/Dandelion/js/jquery.fileinput.js"></script>
    <!-- Placeholder Plugin -->
    <script type="text/javascript" src="~/Areas/Admin/Dandelion/js/jquery.placeholder.js"></script>
    <!-- Mousewheel Plugin -->
    <script type="text/javascript" src="~/Areas/Admin/Dandelion/js/jquery.mousewheel.min.js"></script>
    <!-- Scrollbar Plugin -->
    <script type="text/javascript" src="~/Areas/Admin/Dandelion/js/jquery.tinyscrollbar.min.js"></script>
    <!-- Tooltips Plugin -->
    <script type="text/javascript" src="~/Areas/Admin/Dandelion/plugins/tipsy/jquery.tipsy-min.js"></script>
    <link rel="stylesheet" href="~/Areas/Admin/Dandelion/plugins/tipsy/tipsy.css" />
    <!-- Demo JavaScript Files -->
    <script type="text/javascript" src="~/Areas/Admin/Dandelion/js/demo/demo.icons.js"></script>
    <!-- Core JavaScript Files -->
    <script type="text/javascript" src="~/Areas/Admin/Dandelion/js/core/dandelion.core.js"></script>
    <!-- Customizer JavaScript File (remove if not needed) -->
    <script type="text/javascript" src="~/Areas/Admin/Dandelion/js/core/dandelion.customizer.js"></script>

    <!--  Demo JavaScript Files popup Ui Popup 
    <script type="text/javascript" src="~/Areas/Admin/Dandelion/js/demo/demo.ui.js"></script>-->
    <!-- jGrowl Plugin   -->
    <script type="text/javascript" src="~/Areas/Admin/Dandelion/plugins/jgrowl/jquery.jgrowl.min.js"></script>
    <link rel="stylesheet" href="~/Areas/Admin/Dandelion/plugins/jgrowl/jquery.jgrowl.css" media="screen" />

    <!-- DataTables Plugin -->
    <script type="text/javascript" src="~/Areas/Admin/Dandelion/plugins/datatables/jquery.dataTables.min.js"></script>
    <!-- Demo JavaScript Files -->
    <script type="text/javascript" src="~/Areas/Admin/Dandelion/js/demo/demo.tables.js"></script>
    <!----------------------------- Lên datatable Plugin------------------------------------------>
    <script type="text/javascript" src="@Url.Content("~/Areas/Admin/Dandelion/js/jquery.debouncedresize.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Areas/Admin/Dandelion/js/jquery.metadata.js")"></script>
}
@section sidebar
{
    <!-- Main Navigation -->
    <div id="da-main-nav" class="da-button-container">
        <ul>
            <li>
                <a href="#">

                    <span class="da-nav-count">1</span>
                    <!-- Icon Container -->
                    <span class="da-nav-icon">
                        <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/white/32/home.png")" alt="Trang chủ" />
                    </span>
                    <strong>Hệ thống</strong>
                </a>
                <ul class="closed">
                    <li>
                        <a href="@Url.Action("ConfigureSystem", "System")">
                            <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/news/setting.png")" alt="" />
                            <strong>Cấu hình hệ thống</strong>
                        </a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="#">
                    <!-- Icon Container -->
                    <span class="da-nav-count">2</span>
                    <span class="da-nav-icon">
                        <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/white/32/graph.png")" alt="Charts" />
                    </span>
                    <strong>Thống kê</strong>
                </a>
                <ul class="closed">
                    <li>
                        <a href="/admin/ViewRating">
                            <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/news/rating.png")" alt="" />
                            <strong>Đánh giá</strong>
                        </a>

                    </li>
                    <li>
                        <a href="@Url.Action("HistoryCompare", "StatisticProduct")">
                            <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/news/topsearch.png")" alt="" />
                            <strong>Lịch sử</strong>
                        </a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="#">
                    <!-- Nav Notification -->
                    <span class="da-nav-count">5</span>
                    <!-- Icon Container -->
                    <span class="da-nav-icon">
                        <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/white/32/documents_1.png")" alt="Charts" />
                    </span>
                    <strong>Dữ liệu</strong>
                </a>
                <ul class="closed">
                    <li>
                        <a href="/Admin/importexcelLap">
                            <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/news/excel.png")" alt="" />
                            <strong>Nhập Laptop từ Excel</strong>
                        </a>

                    </li>
                    <li>
                        <a href="/Admin/importexcel">
                            <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/news/excel.png")" alt="" />
                            <strong>Nhập linh kiện từ Excel</strong>
                        </a>

                    </li>
                    <li>

                        <a href="/admin/TraningLaptop">
                            <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/news/duplicate.png")" alt="" />
                            <strong>Xử lý Laptop trùng</strong>
                        </a>
                    </li>
                     <li>

                        <a href="/Admin/TrainingProduct">
                            <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/news/duplicate.png")" alt="" />
                            <strong>Xử lý linh kiện trùng</strong>
                        </a>
                    </li>                  
                    <li>

                        <a href="@Url.Action("Createrecommend", "Recommend")">
                            <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/news/arrow.png")" alt="" />
                            <strong>Sản phẩm đề xuất</strong>
                        </a>
                    </li>
                </ul>
            </li>
            <li class="active">
                <a href="@Url.Action("Index", "Product")">
                    <span class="da-nav-count">6</span>
                    <!-- Icon Container -->
                    <span class="da-nav-icon">
                        <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/white/32/day_calendar.png")" alt="Calendar" />
                    </span>
                    <strong>Quản lí sản phẩm</strong>
                </a>
                <ul>
                    <li >
                        <a href="@Url.Action("CreateProductTest", "Product")">
                            <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/news/add.png")" alt="" />
                            <strong>Tạo mới sản phẩm</strong>
                        </a>

                    </li>
                    <li>

                        <a href="@Url.Action("Index", "Product")">
                            <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/news/list.png")" alt="" />
                            <strong>Danh sách sản phẩm</strong>
                        </a>
                    </li>
                     <li>

                        <a href="@Url.Action("Index", "ViewFeedback")">
                            <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/news/list.png")" alt="" />
                            <strong>Xem góp ý sản phẩm</strong>
                        </a>
                    </li>
                      <li>
                        <a href="@Url.Action("Index", "ViewSearchNotFound")">
                            <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/news/topsearch.png")" alt="" />
                            <strong>Lịch sử tìm kiếm</strong>
                        </a>
                    </li>
                     <li >
                        <a href="@Url.Action("Index", "ManagerStore")">
                            <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/color/asterisk_orange.png")" alt="" />
                            <strong>Quản lý cửa hàng</strong>
                        </a>
                    </li>
                      <li style="background-color: #a6d037;">

                        <a href="@Url.Action("Index", "ManagerHardware")">
                            <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/news/list.png")" alt="" />
                            <strong>Quản lý linh kiện</strong>
                        </a>
                    </li>
                </ul>
            </li>
            
            <li>
                <a href="#">
                    <!-- Icon Container -->
                      <span class="da-nav-count">1</span>
                    <span class="da-nav-icon">
                        <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/white/32/settings.png")" alt="" />
                    </span>
                    <strong>Quản lí trọng số</strong>
                </a>
                <ul class="closed">
                    <li>
                        <a href="@Url.Action("Index", "FillWeightHardWare")">
                            <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/news/manager.png")" alt="" />
                            <strong>Danh sách trọng số</strong>
                        </a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="#">
                    <span class="da-nav-count">4</span>
                    <!-- Icon Container -->
                    <span class="da-nav-icon">
                        <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/white/32/cog_4.png")" alt="" />
                    </span>
                    <strong>Parser</strong>
                </a>
                <ul class="closed">
                    <li>
                        <a href="@Url.Action("CreateParser", "Parser")">
                            <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/news/new.png")" alt="" />
                            <strong>Tạo parser linh kiện</strong>
                        </a>
                    </li>

                    <li >
                        <a href="@Url.Action("Index", "Parser")">
                            <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/news/list.png")" alt="" />
                            <strong>Parser linh kiện</strong>
                        </a>
                    </li>
                    @*<li>
                        <a href="#">
                            <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/news/new.png")" alt="" />
                            <strong>Tạo parser sản phẩm</strong>
                        </a>
                    </li>*@
                    <li>
                        <a href="@Url.Action("Index", "productparseradmin")">
                            <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/news/list.png")" alt="" />
                            <strong>Parser sản phẩm</strong>
                        </a>
                    </li>
                    <li>
                        <a href="@Url.Action("Index", "LogFile")">
                            <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/news/log.png")" alt="" />
                            <strong>Danh sách log file</strong>
                        </a>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
}
@section mainHeader
{
    <ul>
        <li style="margin-right: 5px"><a style="cursor: default; font-size: 27px;">
            <img src="@Url.Content("~/Areas/Admin/Dandelion/images/icons/black/16/home.png")" alt=""><strong>Quản lý linh kiện</strong></a></li>
        <li style="margin-right: 5px; font-weight: bold">>></li>
        <li class="active">
            <a href="@Url.Action("Index", "ManagerHardware")" style="font-size:20px;font-style:italic;text-decoration:underline">Danh sách linh kiện</a>
        </li>
    </ul>
}
@section footScript
{
}

<div class="clear"></div>
<div class="grid_4">

    <a onclick="showPopupCreate()" class="da-button blue">
        <img src="~/Areas/Admin/Dandelion/images/icons/color/add.png" alt="">
        Tạo mới hardware
    </a>
    <!----------------Popup Tạo tài khoản mới----------->
    <div id="Create-Popup-div" style="display: none;">
        <div class="da-panel">
            <!-----    <div class="da-panel-header">
                <span class="da-panel-title">
                    <img src="images/icons/color/text_signature.png" alt="">
                    Simple Registration Form
                </span>
            </div>---->
            <div class="da-panel-content">
               @using (Html.BeginForm("CreateNewHardware", "ManagerHardware", FormMethod.Post, new { @enctype = "multipart/form-data", @style = "padding-top: 23px;", @novalidate = "novalidate", @class = "da-form", id = "da-ex-validate4" }))
               {
                     @*  <form id="da-ex-validate4" class="da-form" method="post" action="ManagerStore/CreateNewStore" enctype="multipart/form-data" style="padding-top: 23px;" novalidate="novalidate">*@
                    <fieldset class="da-form-inline">
                        <legend>Thông tin hardware</legend>
                        <div class="da-form-row">
                            <label>Tên hardware<span class="required">*</span></label>
                            <div class="da-form-item large">
                                <span id="IdThongBao" class="formNote">Không được để trống</span>
                                <input type="text"  name="idHardwareName" id="idHardwareName" onchange="checkName()">
                            </div>
                        </div>
                        <div class="da-form-row">
                            <label>Trọng số<span class="required">*</span></label>
                            <div class="da-form-item large">
                                <span id="" class="formNote">Không được để trống</span>
                                <input type="text"  name="IdTrongSo" id="IdTrongSo">
                            </div>
                        </div> 
                          <div class="da-form-row">
                            <label>Loại<span class="required">*</span></label>
                            <div class="da-form-item large">
                                <span id="" class="formNote">Loại hardware</span>
                                 <select id ="idLoai" name="idLoai" >
                                     @foreach(Codetype code in listCodetype){
                                       <option value="@code.ID">@code.Name</option>        
                                     }                         
                                 </select> 
                            </div>
                        </div> 
                                                  
                    </fieldset>

                    <div class="da-button-row">
                        <input id="btnCreate" type="button" value="Tạo mới" onclick="CreateNewHardware()" class="da-button green">
                    </div>
            @*    </form>*@
               }
              
            </div>

        </div>
    </div>
    <!----------------Popup------------------>
    <div id="loadtable">
        <div class="da-panel collapsible">
            <div class="da-panel-header">
                <span class="da-panel-title">
                    <img src="/Areas/Admin/Dandelion/images/icons/white/16/list.png" alt="">
                    Danh sách hardware
                </span>

                <span class="da-panel-toggler"></span>
            </div>
            <div class="da-panel-content">
                <div id="da-ex-datatable-default_wrapper" class="dataTables_wrapper" role="grid">


                    <table id="da-ex-datatable-default" class="da-table dataTable" aria-describedby="da-ex-datatable-default_info">
                        <thead>
                            <tr role="row">
                                <th class="sorting" role="columnheader" tabindex="0" aria-controls="da-ex-datatable-default" rowspan="1" colspan="1" aria-label="CSS grade: activate to sort column ascending" style="width: 60px;">STT</th>
                                <th class="sorting_asc" role="columnheader" tabindex="0" aria-controls="da-ex-datatable-default" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Rendering engine: activate to sort column descending" style="width: 300px;">Tên Hardware</th>
                                <th class="sorting" role="columnheader" tabindex="0" aria-controls="da-ex-datatable-default" rowspan="1" colspan="1" aria-label="Browser: activate to sort column ascending" style="width: 190px;">Loại</th>
                                <th class="sorting" role="columnheader" tabindex="0" aria-controls="da-ex-datatable-default" rowspan="1" colspan="1" aria-label="Engine version: activate to sort column ascending" style="width: 169px;">Trọng số</th>
                                <th class="sorting" role="columnheader" tabindex="0" aria-controls="da-ex-datatable-default" rowspan="1" colspan="1" aria-label="Engine version: activate to sort column ascending" style="width: 169px;">Kích Hoạt</th>
                                <th class="sorting" role="columnheader" tabindex="0" aria-controls="da-ex-datatable-default" rowspan="1" colspan="1" aria-label="CSS grade: activate to sort column ascending" style="width: 133px;">Thực hiện</th>
                            </tr>
                        </thead>

                        <tbody role="alert" aria-live="polite" aria-relevant="all">
                           @{ int i = 0;}
                            @foreach (Hardware hard in listHardware)
                            {
                               
                                    i++;
                                <tr class="odd">
                                    <td class=" sorting_1">@i</td>
                                    <td class=" sorting_1">@hard.Name</td>
                                    <td class=" sorting_1">@hard.Codetype.Name</td>
                                     <td class=" sorting_1">@hard.WeightCriteraPoint</td>
                                    <td class=" ">
                                        @if (@hard.IsActive != true)
                                        {                                     
                                            <input type="button" id ="Active@(hard.ID)" onclick="ActiveHardware(@hard.ID)" value="Không hoạt động" style="width:120px" class="da-button red" >
                                        }
                                        else
                                        {
                                            <input type="button" id ="Active@(hard.ID)" onclick="ActiveHardware(@hard.ID)" value="Hoạt động" class="da-button blue" style="width:120px" data-id="5">
                                        }
                                    </td>
                                    <td class=" ">
                                        <a onclick="showPopupEdit(@hard.ID)">
                                            <img src="~/Areas/Admin/Dandelion/images/icons/color/pencil.png">
                                            Sửa
                                        </a>
                                        <a onclick="location.href='@Url.Action("Aliasname", "ManagerHardware", new { id1 = @hard.ID })'">
                                            <img src="~/Areas/Admin/Dandelion/images/icons/color/pencil.png">
                                            Tên phụ
                                        </a>

                                        <!----------------Popup sửa tài khoản----------->
                                        <div id="Edit-@(hard.ID)-Popup-div" style="display: none;">
                                            <div class="da-panel">
                                                <div class="da-panel-content" style="background: url(../Areas/Admin/Dandelion/images/bg/wood_pattern.jpg);">
                                                    <form id="da-ex-validate@(hard.ID)" class="da-form" method="post" action="/ManagerHardware/EditHardware" enctype="multipart/form-data"  style="padding-top: 23px;" novalidate="novalidate">
                                                        <fieldset class="da-form-inline">
                                                                <legend>Thông tin hardware</legend>
                                                                <div class="da-form-row">
                                                                    <label>Tên hardware<span class="required">*</span></label>
                                                                    <div class="da-form-item large">
                                                                        <span  class="formNote">Không được để trống</span>
                                                                        <input type="text"  value="@hard.Name" name="idHardwareNameUp" id="idHardwareNameUp@(hard.ID)">  
                                                                         <input type="text" hidden  value="@hard.ID" name="idHardware">                                                                                 
                                                                    </div>
                                                                </div>   
                                                             <div class="da-form-row">
                                                                    <label>Trọng số<span class="required">*</span></label>
                                                                    <div class="da-form-item large">
                                                                        <span  class="formNote">phải là số nguyên</span>
                                                                        <input type="text"  value="@hard.WeightCriteraPoint" name="idTrongSoUp" id="idTrongSoUp@(hard.ID)">
                                                                          <input type="text"  hidden value="@hard.ID" name="idStore">
                                                                      
                                                                    </div>
                                                                </div> 
                                                             <div class="da-form-row">
                                                                 <label>Loại<span class="required">*</span></label>
                                                                    <div class="da-form-item large">
                                                                        <span  class="formNote">Loại hardware</span>
                                                                        <select id ="idLoaiUp@(hard.ID)" name="idLoaiUp" >
                                                                         @foreach(Codetype code in listCodetype){
                                                                             if (code.ID.Equals(hard.CodetypeID))
                                                                           {
                                                                                 <option selected="selected" value="@code.ID">@code.Name</option>  
                                                                           }
                                                                           <option value="@code.ID">@code.Name</option>        
                                                                         }                         
                                                                     </select>                                                                       
                                                                    </div>                                                                                                                                     
                                                                </div>                                                                
                                                            </fieldset>
                                                        <div class="da-button-row">
                                                            <input type="button" value="Update" onclick="EditHardware(@hard.ID)"  class="da-button green">
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                        <!----------------Popup------------------>
                                    </td>
                                </tr>                            
                                }
                            
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<!-----------------------------------------javascript -------------------------------------->
<script>
    //Hiện popup để tạo tài khoản.
    function showPopupCreate() {
        $("#Create-Popup-div").dialog({
            autoOpen: false,
            title: "Tạo mới một hardware!",
            width: "600",
            modal: true
            //buttons: [{
            //    text: "Đóng", 
            //    click: function() {
            //        $( this ).dialog( "close" );
            //    }}]
        });
        $("#Create-Popup-div").dialog("option", { modal: true }).dialog("open");
        event.preventDefault();
    }

    //Hiện popup để edit tài khoản.

    function showPopupEdit(i) {
          
        $("#Edit-"+i+"-Popup-div").dialog({
            autoOpen: false,
            title: "Sửa thông tin hardware!",
            width: "600",
            modal: true
            //buttons: [{
            //    text: "Đóng", 
            //    click: function() {
            //        $( this ).dialog( "close" );
            //    }}]
        });
        $("#Edit-"+i+"-Popup-div").dialog("option", { modal: true }).dialog("open");
        event.preventDefault();
        var roleID = document.getElementById("RoleAcc"+i).value;
        document.getElementById("roleEdit"+i).value = roleID;   
    }

 
   

    // Tạo phần cứng
    function CreateNewHardware() {
        var Name = document.getElementById("idHardwareName").value;
        var TrongSo = document.getElementById("IdTrongSo").value;    
        var Loai = document.getElementById("idLoai").value;   
        var count = 0;
        // kiểm tra tên
        if (Name.length < 1 || Name.length > 200) {
            document.getElementById("idHardwareName").style.borderColor = 'red';
            count++;
        } else {
            document.getElementById("idHardwareName").style.borderColor = "";
        }       
        // kiểm tra trong so
        myFunction(TrongSo);
        function myFunction(TrongSo) {
            val = parseFloat(TrongSo);
            if (isNaN(val)) {
                document.getElementById("IdTrongSo").style.borderColor = 'red';
                count++;
            } else {
                document.getElementById("IdTrongSo").style.borderColor = "";
            }
        }
        if (count == 0) {
            $('#da-ex-validate4').submit();
        }
    }



    // Sửa thông tin tài khoản
    function EditHardware(i) {
        var Name = document.getElementById("idHardwareNameUp"+i).value;
        var TrongSo = document.getElementById("idTrongSoUp"+i).value;      
        var count = 0;
        // kiểm tra tên
        if (Name.length < 1 || Name.length > 200) {
            document.getElementById("idHardwareNameUp"+i).style.borderColor = 'red';
            count++;
        } else {
            document.getElementById("idHardwareNameUp"+i).style.borderColor = "";
        }

        // kiểm tra trong so
        myFunction(TrongSo);
        function myFunction(TrongSo) {
            val = parseFloat(TrongSo);
            if (isNaN(val)) {
                document.getElementById("idTrongSoUp"+i).style.borderColor = 'red';
                count++;
            } else {
                document.getElementById("idTrongSoUp"+i).style.borderColor = "";
            }
        }
        if (count == 0) {
            $('#da-ex-validate'+i).submit();
        }
    }

    ///  Active or deactive user
    function ActiveHardware(id) {
        var postData = {id: id};
        $.ajax({
            type: "POST",
            url: "/Admin/ManagerHardware/ActiveHardware",
            data: postData,
            success: function (data) {              
                if(data =="true")
                {
                    document.getElementById("Active"+id).className = "da-button blue" ;
                    document.getElementById("Active"+id).value = "Hoạt động" ;
                }else{
                    document.getElementById("Active"+id).className = "da-button red" ;
                    document.getElementById("Active"+id).value = "Ngừng hoạt động" ;
                }
            },

        });

    }


    function checkName(){
        var name = document.getElementById("idHardwareName").value;
        var postData = {name: name};

        var Name = document.getElementById("idHardwareName").value;
        var TrongSo = document.getElementById("IdTrongSo").value;    
        var Loai = document.getElementById("idLoai").value;   
        var count = 0;
        // kiểm tra tên
        if (Name.length < 1 || Name.length > 200) {
            document.getElementById("idHardwareName").style.borderColor = 'red';
            count++;
        } else {
            document.getElementById("idHardwareName").style.borderColor = "";
        }       
        // kiểm tra trong so
        myFunction(TrongSo);
        function myFunction(TrongSo) {
            val = parseFloat(TrongSo);
            if (isNaN(val)) {
                document.getElementById("IdTrongSo").style.borderColor = 'red';
                count++;
            } else {
                document.getElementById("IdTrongSo").style.borderColor = "";
            }
        }
        $.ajax({
            type: "POST",
            url: "/Admin/ManagerHardware/checkName",
            data: postData,
            success: function (data) {              
                if(data =="true")
                {
                    document.getElementById("btnCreate").disabled = true; 
                    document.getElementById("IdThongBao").innerText= "Tên hardware đã tồn tại!";                   
                    document.getElementById("IdThongBao").style.color = "red";
                    
                }else{
                    document.getElementById("btnCreate").disabled = false ;
                    document.getElementById("IdThongBao").innerText = "Không được để trống"; 
                    document.getElementById("IdThongBao").style.color = "black";
                }
            },

        });

    }

    // load lại table
    function loadTableAgain() {         
        $.ajax({
            type: "POST",
            url: "/Admin/ManagerHardware/loadTableAgain",
            success: function (data) {                      
                $('#loadtable').html(data);
                $("#Create-Popup-div").dialog("option", { modal: true }).dialog("close");
            },
        });         
    }

      

</script>
<!---------------------Popup--------------------------------- Stick---------------------------------------->
<!---  <button id="da-ex-growl-2" class="da-button green">Growl with Header</button> --->
<style>
    div.jGrowl.bottom-right {
        top: 10%;
        right: 30%;
    }
</style>
<script>
    (function ($) {
        $(document).ready(function (e) {
            // dialog popup
            $("#da-ex-accordion, #da-ex-accordion-plain").accordion();

            $("#da-ex-tabs, #da-ex-tabs-plain").tabs();

            $("#da-ex-datepicker, #da-ex-datepicker-inline").datepicker({ showOtherMonths: true });

            $("#da-ex-datepicker-week").datepicker({ showOtherMonths: true, showWeek: true });

            $("#da-ex-datepicker-months").datepicker({ showOtherMonths: true, numberOfMonths: 3 });

            $("#da-ex-datetimepicker").datetimepicker();

            $("#da-ex-timepicker").timepicker({});

            $(".da-ex-buttons").button();

            $("#da-ex-buttons-radio, #da-ex-buttons-checkbox").buttonset();

            $("#da-ex-buttons-icon button:first").button({
                icons: {
                    primary: "ui-icon-locked"
                },
                text: false
            }).next().button({
                icons: {
                    primary: "ui-icon-locked"
                }
            }).next().button({
                icons: {
                    primary: "ui-icon-gear",
                    secondary: "ui-icon-triangle-1-s"
                }
            }).next().button({
                icons: {
                    primary: "ui-icon-gear",
                    secondary: "ui-icon-triangle-1-s"
                },
                text: false
            });

            $("#da-ex-dialog-div").dialog({
                autoOpen: false,
                title: "Chọn log file bạn muốn ghi lại, để sau đó có thể tiếp tục xử lý.",
                modal: true,
                width: "550",
                buttons: [{
                    text: "Đóng",
                    click: function () {
                        $(this).dialog("close");
                    }
                }]
            });




            $("#da-ex-dialog").bind("click", function (event) {
                $("#da-ex-dialog-div").dialog("option", { modal: false }).dialog("open");
                event.preventDefault();
            });
            $("#da-ex-dialog-modal").bind("click", function (event) {
                $("#da-ex-dialog-div").dialog("option", { modal: true }).dialog("open");
                event.preventDefault();
            });
            $("#da-ex-dialog-form").bind("click", function (event) {
                $("#da-ex-dialog-form-div").dialog("option", { modal: true }).dialog("open");
                event.preventDefault();
            });
            //  Growl Notifications 
            if ($.jGrowl) {

                $("#da-ex-growl-2").bind("click", function (event) {
                    $.jGrowl("Con cò bé bé", { header: "Nhắc nhở!", position: "bottom-right" });
                });
            }
        });
    })(jQuery); 		</script>
